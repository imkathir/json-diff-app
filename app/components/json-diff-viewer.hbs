<div class="min-h-screen bg-gray-50 p-6">
  <h1 class="text-3xl font-bold mb-6 text-center">JSON Diff Viewer</h1>
  <div class="flex flex-col md:flex-row gap-6">
    <div class="flex-1 bg-white p-4 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold mb-2">JSON A</h2>
      <textarea
        class="border p-2 w-full mb-2"
        rows="8"
        placeholder="Paste first JSON here"
        value={{this.json1}}
        {{on "input" this.updateJson1}}
      ></textarea>
    </div>
    <div class="flex-1 bg-white p-4 rounded-lg shadow-md">
      <h2 class="text-xl font-semibold mb-2">JSON B</h2>
      <textarea
        class="border p-2 w-full mb-2"
        rows="8"
        placeholder="Paste second JSON here"
        value={{this.json2}}
        {{on "input" this.updateJson2}}
      ></textarea>
    </div>
  </div>

  {{#if this.error}}
    <div class="text-red-600 font-bold mb-2">{{this.error}}</div>
  {{/if}}

  {{#if this.diffs.length}}
    <div class="mt-4">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-semibold">Differences:</h3>
        <div class="flex gap-2 text-white">
          <button
            type="button"
            class="px-3 py-1 text-sm rounded {{if this.isAllFilter 'bg-blue text-white' 'bg-gray-200 text-gray-700 hover:bg-gray-300'}}"
            {{on "click" (fn this.setFilterType 'all')}}
          >
            All ({{this.diffs.length}})
          </button>
          <button
            type="button"
            class="px-3 py-1 text-sm rounded {{if this.isMismatchFilter 'bg-blue text-white' 'bg-gray-200 text-gray-700 hover:bg-gray-300'}}"
            {{on "click" (fn this.setFilterType 'mismatch')}}
          >
            Mismatch ({{this.mismatchCount}})
          </button>
          <button
            type="button"
            class="px-3 py-1 text-sm rounded {{if this.isMissingFilter 'bg-blue text-white' 'bg-gray-200 text-gray-700 hover:bg-gray-300'}}"
            {{on "click" (fn this.setFilterType 'missing')}}
          >
            Missing ({{this.missingCount}})
          </button>
        </div>
      </div>
      <ul class="list-disc p-6">
        {{#each this.filteredDiffs as |d|}}
          <li><strong>{{d.path}}</strong> â†’ <span class="{{if d.isMissing 'bg-red-light' 'bg-orange-light '}} my-1  text-white">  First: {{d.first}}   |   Second: {{d.second}}</span></li>
        {{/each}}
      </ul>
    </div>
  {{/if}}

  {{#if this.parsed1}}
    <div class="grid grid-cols-2 gap-4 mt-6">
      <div class="flex flex-col md:flex-row gap-5">

      <div class="mr-6">
        <h4 class="font-semibold">First JSON</h4>
        <div class="bg-gray-100 py-2 rounded overflow-auto h-96">
          <JsonNode
            @key="root"
            @data={{this.parsed1}}
            @prefix="root"
            @diffs={{this.filteredDiffs}}
          />
        </div>
      </div>

      <div class="ml-6">
        <h4 class="font-semibold">Second JSON</h4>
        <div class="bg-gray-100 py-2 rounded overflow-auto h-96">
          <JsonNode
            @key="root"
            @data={{this.parsed2}}
            @prefix="root"
            @diffs={{this.filteredDiffs}}
          />
        </div>
      </div>
      </div>
    </div>
  {{/if}}
</div>